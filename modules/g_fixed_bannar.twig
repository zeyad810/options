<section section-id="{{ sectionId }}">
  <swiper-container pagination="true">
    {% for item in settings.slider %}
    <swiper-slide>
      <div class="g_fixed_bannar" data-bg-desktop="{{ item.slider_bannar_bg }}" data-bg-mobile="{{ item.slider_bannar_bg_mobile }}">
        <div style='text-align:{{ item.slider_text_place }};' class="container relative txt">
          <h1 class="animate__animated animate__fadeInUp custom-dlay-heading text-black text-[35px] md:text-[48px] font-semibold md:font-bold leading-[50px] md:leading-[70px]">{{ item.slider_bannar_title }}</h1>
          <p class="animate__animated animate__fadeInUp custom-dlay-p hidden md:block text-black font-medium text-[20px] leading-[70px]">{{ item.slider_bannar_des }}</p>
          <a href='{{item.slider_bannar_url}}'>
            <button class="animate__animated animate__fadeInUp custom-dlay-a w-[200px] mt-[32px] h-[56px] text-[16px] font-bold rounded-lg duration-300 hover:!opacity-80 bg-[var(--f-color)] text-white">{{item.slider_bannar_btn_text}}</button>
          </a>
        </div>
      </div>
    </swiper-slide>
    {% endfor %}
  </swiper-container>
</section>

<style>
  .g_fixed_bannar {
    width: 100%;
    height: 80vh;
    background-size: cover;
    background-position: center;
  }

  .swiper-container {
    width: 100vw;
    height: 100vh;
  }

  .swiper-pagination {
    bottom: 20px;
    display: flex;
    justify-content: center;
  }

  .swiper-pagination-bullet {
    width: 15px;
    height: 15px;
    margin: 0 5px;
    border-radius: 10px;
    background: #d68d9c;
    opacity: 0.7;
    transition: all 0.3s ease;
  }

  @media (max-width: 768px) {
    .swiper-container {
      height: auto;
    }
    .g_fixed_bannar{
        height: 65vh;
    }
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const swiperFixBaner = new Swiper('.swiper-container', {
      slidesPerView: 1,
      pagination: {
        el: '.swiper-pagination',
        clickable: true
      },
      loop: true,
      autoplay: {
        delay: 5000,
        disableOnInteraction: false
      },
      observer: true,
      observeParents: true
    });

    function updateBackgroundImages() {
      const sliders = document.querySelectorAll('.g_fixed_bannar');
      const isMobile = window.innerWidth <= 767;

      sliders.forEach(slider => {
        const bgDesktop = slider.getAttribute('data-bg-desktop');
        const bgMobile = slider.getAttribute('data-bg-mobile');
        const backgroundUrl = isMobile ? bgMobile : bgDesktop;
        slider.style.backgroundImage = `url('${backgroundUrl}')`;
        slider.style.backgroundSize = 'cover';
        slider.style.backgroundPosition = 'center';
      });
    }

    // Update backgrounds on page load and resize
    updateBackgroundImages();
    window.addEventListener('resize', updateBackgroundImages);
  });
</script>


{% schema %}

{
    "name": {
        "ar": "بنر رئيسي",
        "en": "Main banner"
    },
    "icon": "fal fa-user",
    "display": true,
    "settings": {
        "slider":{
            "type": "list",
            "label": {
                "ar": "اضف الصور",
                "en": "ُenter Images"
            },
            "settings": {
                "slider_bannar_title":{
                    "type": "text",
                    "label": {
                        "ar": "العنوان",
                        "en": "title"
                    }
                },
                "slider_bannar_des":{
                    "type": "text",
                    "label": {
                        "ar": "وصف للبنر",
                        "en": "Banner Description"
                    }
                },
                "slider_bannar_bg":{
                    "type": "image",
                    "label": {
                        "ar": "خلفيه البنر",
                        "en": "Banner background"
                    }
                },
                "slider_bannar_bg_mobile":{
                    "type": "image",
                    "label": {
                        "ar": " خلفيه البنر ف الموبايل",
                        "en": "Banner background on mobile"
                    }
                },
                "slider_bannar_url":{
                    "type": "url",
                    "label": {
                        "ar": "رابط البنر",
                        "en": "Banner link"
                    }
                },
                "slider_bannar_btn_text":{
                    "type": "text",
                    "label": {
                        "ar": "عنوان الزر",
                        "en": "button title"
                    }
                },
                "slider_text_place":{
                    "type": "select",
                    "label": {
                        "ar": "موضع النص",
                        "en": "text position"
                    },
                    "options": [
                        {
                            "value": "left",
                            "label": {
                            "ar": "اليسار",
                            "en": "left"
                            }
                        },
                        {
                            "value": "right",
                            "label": {
                            "ar": "اليمين",
                            "en": "right"
                            }
                        },
                        {
                            "value": "center",
                            "label": {
                            "ar": "المركز",
                            "en": "center"
                            }
                        }
                    ]
                }
            }
        }
    }
}

{% endschema %}
